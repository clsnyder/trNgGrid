"use strict";var TrNgGrid;(function(n){function st(t){t.get(n.cellHeaderTemplateId)||t.put(n.cellHeaderTemplateId,'<div class="'+n.headerCellCssClass+'" ng-switch="columnOptions.isCustomized">  <div ng-switch-when="true">    <div ng-transclude=""><\/div>  <\/div>  <div ng-switch-default>    <div class="'+n.columnTitleCssClass+'">      {{columnTitle |'+n.translateFilter+":gridOptions.locale}}       <div "+n.columnSortDirectiveAttribute+'=""><\/div>    <\/div>    <div '+n.columnFilterDirectiveAttribute+'=""><\/div>  <\/div><\/div>');t.get(n.cellBodyTemplateId)||t.put(n.cellBodyTemplateId,'<div ng-attr-class="'+n.bodyCellCssClass+' text-{{columnOptions.displayAlign}}" ng-switch="columnOptions.isCustomized">  <div ng-switch-when="true">    <div ng-transclude=""><\/div>  <\/div>  <div ng-switch-default>{{gridDisplayItem[columnOptions.displayFieldName]}}<\/div><\/div>');t.get(n.columnFilterTemplateId)||t.put(n.columnFilterTemplateId,'<div ng-show="(gridOptions.enableFiltering&&columnOptions.enableFiltering!==false)||columnOptions.enableFiltering" class="'+n.columnFilterCssClass+'"> <div class="'+n.columnFilterInputWrapperCssClass+'">   <input class="form-control input-sm" type="text" ng-model="columnOptions.filter" ng-keypress="speedUpAsyncDataRetrieval($event)"><\/input> <\/div><\/div>');t.get(n.columnSortTemplateId)||t.put(n.columnSortTemplateId,"<div ng-attr-title=\"{{'Sort'|"+n.translateFilter+':gridOptions.locale}}" ng-show="(gridOptions.enableSorting&&columnOptions.enableSorting!==false)||columnOptions.enableSorting" ng-click="toggleSorting(columnOptions.fieldName)" class="'+n.columnSortCssClass+'" >   <div ng-class="{\''+n.columnSortActiveCssClass+"':gridOptions.orderBy==columnOptions.fieldName,'"+n.columnSortInactiveCssClass+"':gridOptions.orderBy!=columnOptions.fieldName,'"+n.columnSortNormalOrderCssClass+"':gridOptions.orderBy==columnOptions.fieldName&&!gridOptions.orderByReverse,'"+n.columnSortReverseOrderCssClass+"':gridOptions.orderBy==columnOptions.fieldName&&gridOptions.orderByReverse}\" >  <\/div><\/div>");t.put(n.cellFooterTemplateId)||t.put(n.cellFooterTemplateId,'<div class="'+n.footerCssClass+'" ng-switch="isCustomized">  <div ng-switch-when="true">    <div ng-transclude=""><\/div>  <\/div>  <div ng-switch-default>    <span '+n.globalFilterDirectiveAttribute+'=""><\/span>    <span '+n.pagerDirectiveAttribute+'=""><\/span>  <\/div><\/div>');t.get(n.footerGlobalFilterTemplateId)||t.put(n.footerGlobalFilterTemplateId,'<span ng-show="gridOptions.enableFiltering" class="pull-left form-group">  <input class="form-control" type="text" ng-model="gridOptions.filterBy" ng-keypress="speedUpAsyncDataRetrieval($event)" ng-attr-placeholder="{{\'Search\'|'+n.translateFilter+':gridOptions.locale}}"><\/input><\/span>');t.get(n.footerPagerTemplateId)||t.put(n.footerPagerTemplateId,'<span class="pull-right form-group"> <ul class="pagination">   <li ng-class="{disabled:!pageCanGoBack}" ng-if="extendedControlsActive">     <a href="" ng-click="pageCanGoBack&&navigateToPage(0)" ng-attr-title="{{\'First Page\'|'+n.translateFilter+':gridOptions.locale}}">         <span>&laquo;<\/span>     <\/a>   <\/li>   <li ng-class="{disabled:!pageCanGoBack}" ng-if="extendedControlsActive">     <a href="" ng-click="pageCanGoBack&&navigateToPage(gridOptions.currentPage - 1)" ng-attr-title="{{\'Previous Page\'|'+n.translateFilter+':gridOptions.locale}}">         <span>&lsaquo;<\/span>     <\/a>   <\/li>   <li ng-if="pageSelectionActive" ng-repeat="pageIndex in pageIndexes track by $index" ng-class="{disabled:pageIndex===null, active:pageIndex===gridOptions.currentPage}">      <span ng-if="pageIndex===null">...<\/span>      <a href="" ng-click="navigateToPage(pageIndex)" ng-if="pageIndex!==null" ng-attr-title="{{\'Page\'|'+n.translateFilter+':gridOptions.locale}}">{{pageIndex+1}}<\/a>   <\/li>   <li ng-class="{disabled:!pageCanGoForward}" ng-if="extendedControlsActive">     <a href="" ng-click="pageCanGoForward&&navigateToPage(gridOptions.currentPage + 1)" ng-attr-title="{{\'Next Page\'|'+n.translateFilter+':gridOptions.locale}}">         <span>&rsaquo;<\/span>     <\/a>   <\/li>   <li ng-class="{disabled:!pageCanGoForward}" ng-if="extendedControlsActive">     <a href="" ng-click="pageCanGoForward&&navigateToPage(lastPageIndex)" ng-attr-title="{{\'Last Page\'|'+n.translateFilter+':gridOptions.locale}}">         <span>&raquo;<\/span>     <\/a>   <\/li>   <li class="disabled" style="white-space: nowrap;">     <span ng-hide="totalItemsCount">{{\'No items to display\'|'+n.translateFilter+':gridOptions.locale}}<\/span>     <span ng-show="totalItemsCount" ng-attr-title="{{\'Select Page\'|'+n.translateFilter+":gridOptions.locale}}\">       {{startItemIndex+1}} - {{endItemIndex+1}} {{'displayed'|"+n.translateFilter+":gridOptions.locale}}       <span>, {{totalItemsCount}} {{'in total'|"+n.translateFilter+":gridOptions.locale}}<\/span>     <\/span >    <\/li> <\/ul><\/span>")}var r,e,i,o,s,h,c;(function(n){n[n.None=0]="None";n[n.SingleRow=1]="SingleRow";n[n.MultiRow=2]="MultiRow";n[n.MultiRowWithKeyModifiers=3]="MultiRowWithKeyModifiers"})(n.SelectionMode||(n.SelectionMode={}));r=n.SelectionMode;n.defaultColumnOptions={cellWidth:null,cellHeight:null,displayAlign:null,displayFormat:null,displayName:null,filter:null,enableFiltering:null,enableSorting:null};n.translations={};n.debugMode=!1;e=!1;i="trNgGrid";n.dataPagingFilter=i+"DataPagingFilter";n.translateFilter=i+"TranslateFilter";n.translationDateFormat=i+"DateFormat";n.dataFormattingFilter=i+"DataFormatFilter";var l="tr-ng-grid-header",k="tr-ng-grid-footer",d="tr-ng-grid-body",g="is-customized",a="is-auto-generated",nt="tr-ng-grid-footer-cell",v="trNgGridFooterCellTemplate",tt="tr-ng-grid-footer-cell-template";n.cellFooterTemplateId=v+".html";o="trNgGridGlobalFilter";n.globalFilterDirectiveAttribute="tr-ng-grid-global-filter";n.footerGlobalFilterTemplateId=o+".html";s="trNgGridPager";n.pagerDirectiveAttribute="tr-ng-grid-pager";n.footerPagerTemplateId=s+".html";var it="tr-ng-grid-header-cell",y="trNgGridHeaderCellTemplate",rt="tr-ng-grid-header-cell-template";n.cellHeaderTemplateId=y+".html";var p="tr-ng-grid-body-cell",w="trNgGridBodyCellTemplate",ut="tr-ng-grid-body-cell-template";n.cellBodyTemplateId=w+".html";h="trNgGridColumnSort";n.columnSortDirectiveAttribute="tr-ng-grid-column-sort";n.columnSortTemplateId=h+".html";c="trNgGridColumnFilter";n.columnFilterDirectiveAttribute="tr-ng-grid-column-filter";n.columnFilterTemplateId=c+".html";var t=function(n,t){var r,i,u;for(t=t.toUpperCase(),r=n.children(),i=0;i<r.length;i++)if(u=r[i],u.tagName==t)return angular.element(u);return null},f=function(n,t){var r,u,i,f;for(t=t.toUpperCase(),r=[],u=n.children(),i=0;i<u.length;i++)f=u[i],f.tagName==t&&r.push(angular.element(f));return r},ht=function(n,t,i,r){var u=[],f=t.slice(0);return angular.forEach(n,function(n){for(var t=null,i=0;!t&&i<f.length;i++)t=f[i],t.fieldName===n.fieldName?f.splice(i,1):t=null;t?u.push(t):u.push(n)}),(i||r)&&angular.forEach(f,function(n){(i&&n.fieldName||r&&!n.fieldName)&&u.push(n)}),u},ft=function(){function t(n,t,i,r){this.$compile=n;this.$parse=t;this.$timeout=i;this.gridColumnId=0;e||(st(r),e=!0)}return t.prototype.setupScope=function(t,i,u){var f=this,e;return this.gridOptions={immediateDataRetrieval:!0,items:[],fields:null,locale:"en",selectedItems:[],filterBy:null,filterByFields:{},orderBy:null,orderByReverse:!1,pageItems:null,currentPage:0,totalItems:null,enableFiltering:!0,enableSorting:!0,selectionMode:r[2],onDataRequiredDelay:1e3},this.gridOptions.onDataRequired=u.onDataRequired?t.onDataRequired:null,this.gridOptions.gridColumnDefs=[],i.gridOptions=this.gridOptions,i.TrNgGrid=n,this.linkScope(i,t,"gridOptions",u),this.columnDefsFieldsWatcherDeregistrationFct=i.$watch("gridOptions.items.length",function(n){if(n)for(var t in f.gridOptions.items[0])t.match(/^[_\$]/g)||f.registerColumn({fieldName:t,isCustomized:!1})}),this.gridOptions.onDataRequired&&(e=function(){f.dataRequestPromise=null;f.gridOptions.immediateDataRetrieval=!1;f.gridOptions.onDataRequired(f.gridOptions)},i.$watchCollection("[gridOptions.filterBy, gridOptions.filterByFields, gridOptions.orderBy, gridOptions.orderByReverse, gridOptions.pageItems, gridOptions.currentPage]",function(){f.dataRequestPromise&&(f.$timeout.cancel(f.dataRequestPromise),f.dataRequestPromise=null);f.gridOptions.immediateDataRetrieval?e():f.dataRequestPromise=f.$timeout(function(){e()},f.gridOptions.onDataRequiredDelay,!0)}),i.$watch("gridOptions.immediateDataRetrieval",function(n){n&&f.dataRequestPromise&&(f.$timeout.cancel(f.dataRequestPromise),e())})),i.$watch("gridOptions.selectionMode",function(n,t){if(n!==t)switch(n){case r[0]:f.gridOptions.selectedItems.splice(0);break;case r[1]:f.gridOptions.selectedItems.length>1&&f.gridOptions.selectedItems.splice(1)}}),i},t.prototype.speedUpAsyncDataRetrieval=function(n){n&&n.keyCode!=13||(this.gridOptions.immediateDataRetrieval=!0)},t.prototype.toggleSorting=function(n){this.gridOptions.orderBy!=n?this.gridOptions.orderBy=n:this.gridOptions.orderByReverse=!this.gridOptions.orderByReverse;this.speedUpAsyncDataRetrieval()},t.prototype.getFormattedFieldName=function(n){return n.replace(/[\.\[\]]/g,"_")},t.prototype.setFilter=function(n,t){t?this.gridOptions.filterByFields[n]=t:delete this.gridOptions.filterByFields[n];this.gridOptions.filterByFields=angular.extend({},this.gridOptions.filterByFields)},t.prototype.registerColumn=function(n){this.gridOptions.gridColumnDefs||(this.gridOptions.gridColumnDefs=[]);this.columnDefsFieldsWatcherDeregistrationFct&&(this.columnDefsFieldsWatcherDeregistrationFct(),this.columnDefsFieldsWatcherDeregistrationFct=null);for(var t,i=0;i<this.gridOptions.gridColumnDefs.length&&this.gridOptions.gridColumnDefs[i].fieldName!==n.fieldName;i++);return i>=this.gridOptions.gridColumnDefs.length?(t=n,t.columnDefinitionId=this.gridColumnId++,this.gridOptions.gridColumnDefs.push(t)):(t=this.gridOptions.gridColumnDefs[i],angular.extend(t,n)),t},t.prototype.setupColumn=function(n,t){for(var r=this.registerColumn({fieldName:n}),i=0;i<this.gridOptions.gridColumnDefs.length&&r!==this.gridOptions.gridColumnDefs[i];i++);if(i<this.gridOptions.gridColumnDefs.length)this.gridOptions.gridColumnDefs[i]=angular.extend(t,this.gridOptions.gridColumnDefs[i]);else throw new Error("Unable to apply the settings for the field '"+n+"'. The field was not registered.");},t.prototype.toggleItemSelection=function(n,t,i){var h,f,c,e,l,o,s,u;if(this.gridOptions.selectionMode!==r[0])switch(this.gridOptions.selectionMode){case r[3]:if(i.ctrlKey||i.shiftKey||i.metaKey){if(i.ctrlKey||i.metaKey)u=this.gridOptions.selectedItems.indexOf(t),u>=0?this.gridOptions.selectedItems.splice(u,1):this.gridOptions.selectedItems.push(t);else if(i.shiftKey){for(document.selection&&document.selection.empty?document.selection.empty():window.getSelection&&(h=window.getSelection(),h.removeAllRanges()),c=this.gridOptions.selectedItems[this.gridOptions.selectedItems.length-1],f=0;f<n.length&&n[f].$$_gridItem!==c;f++);for(f>=n.length&&(f=0),e=0;e<n.length&&n[e].$$_gridItem!==t;e++);if(e>=n.length)throw"Invalid selection on a key modifier selection mode";for(e<f&&(l=f,f=e,e=l),o=f;o<=e;o++)s=n[o].$$_gridItem,this.gridOptions.selectedItems.indexOf(s)<0&&this.gridOptions.selectedItems.push(s)}}else u=this.gridOptions.selectedItems.indexOf(t),this.gridOptions.selectedItems.splice(0),u<0&&this.gridOptions.selectedItems.push(t);break;case r[1]:u=this.gridOptions.selectedItems.indexOf(t);this.gridOptions.selectedItems.splice(0);u<0&&this.gridOptions.selectedItems.push(t);break;case r[2]:u=this.gridOptions.selectedItems.indexOf(t);u>=0?this.gridOptions.selectedItems.splice(u,1):this.gridOptions.selectedItems.push(t)}},t.prototype.computeFormattedItems=function(scope){var input=scope.gridOptions.items||[],formattedItems,gridColumnDefs,inputIndex,inputItem,outputItem,gridColumnDefIndex,gridColumnDef,fieldName,displayFormat;for(n.debugMode&&u("formatting items of length "+input.length),formattedItems=scope.formattedItems=scope.formattedItems||[],scope.gridOptions.onDataRequired?scope.filteredItems=formattedItems:scope.requiresReFilteringTrigger=!scope.requiresReFilteringTrigger,gridColumnDefs=this.gridOptions.gridColumnDefs,inputIndex=0;inputIndex<input.length;inputIndex++){for(inputItem=input[inputIndex];formattedItems.length>input.length&&(outputItem=formattedItems[inputIndex]).$$_gridItem!==inputItem;)formattedItems.splice(inputIndex,1);for(inputIndex<formattedItems.length?(outputItem=formattedItems[inputIndex],outputItem.$$_gridItem!==inputItem&&(outputItem={$$_gridItem:inputItem},formattedItems[inputIndex]=outputItem)):(outputItem={$$_gridItem:inputItem},formattedItems.push(outputItem)),gridColumnDefIndex=0;gridColumnDefIndex<gridColumnDefs.length;gridColumnDefIndex++)try{gridColumnDef=gridColumnDefs[gridColumnDefIndex];fieldName=gridColumnDef.fieldName;fieldName&&(displayFormat=gridColumnDef.displayFormat,displayFormat?(displayFormat[0]!="."&&displayFormat[0]!="|"&&(displayFormat=" | "+displayFormat),outputItem[gridColumnDef.displayFieldName]=scope.$eval("gridOptions.items["+inputIndex+"]."+fieldName+displayFormat)):outputItem[gridColumnDef.displayFieldName]=eval("inputItem."+fieldName))}catch(ex){n.debugMode&&u("Field evaluation failed for <"+fieldName+"> with error "+ex)}}formattedItems.length>input.length&&formattedItems.splice(input.length,formattedItems.length-input.length)},t.prototype.computeFilteredItems=function(t){if(t.filterByDisplayFields={},t.gridOptions.filterByFields)for(var i in t.gridOptions.filterByFields)t.filterByDisplayFields[this.getFormattedFieldName(i)]=t.gridOptions.filterByFields[i];n.debugMode&&u("filtering items of length "+(t.formattedItems?t.formattedItems.length:0));t.filteredItems=t.$eval("formattedItems | filter:gridOptions.filterBy | filter:filterByDisplayFields | orderBy:'$$_gridItem.'+gridOptions.orderBy:gridOptions.orderByReverse | "+n.dataPagingFilter+":gridOptions")},t.prototype.setupDisplayItemsArray=function(t){var r=this,i="[gridOptions.items,gridOptions.gridColumnDefs.length";angular.forEach(this.gridOptions.gridColumnDefs,function(n){if(n.displayFormat&&n.displayFormat[0]!="."){var t=n.displayFormat.split("|");angular.forEach(t,function(n){var t=n.split(":");t.length>1&&angular.forEach(t.slice(1),function(n){n=n.trim();n&&(i+=","+n)})})}});i+="]";n.debugMode&&u("re-formatting is set to watch for changes in "+i);t.$watch(i,function(){return r.computeFormattedItems(t)},!0);t.gridOptions.onDataRequired||(i="[requiresReFilteringTrigger, gridOptions.filterBy, gridOptions.filterByFields, gridOptions.orderBy, gridOptions.orderByReverse, gridOptions.currentPage]",t.$watch(i,function(){r.computeFilteredItems(t)},!0))},t.prototype.linkAttrs=function(n,t){var r=function(n,i){if(typeof i!="undefined"){switch(i){case"true":i=!0;break;case"false":i=!1}t[n]=i}};for(var i in t)r(i,n[i]),function(t){n.$observe(t,function(n){return r(t,n)})}(i)},t.prototype.linkScope=function(t,i,r,f){var o=t[r],e,h,c,s;for(e in o)if(h=typeof f[e]!="undefined"&&f[e]!=null,h){c=!1;typeof i[e]!="undefined"&&i[e]!=null&&(o[e]=i[e],c=o[e]instanceof Array);s=null;try{s=this.$parse(f[e])}catch(l){}(function(f,e){e&&e.constant||i.$watch(f,function(n){o[f]=n});var s=e&&e.assign?e.assign:null;s&&t.$watch(r+"."+f,function(t){try{i[f]=t}catch(r){if(n.debugMode){u("Mirroring the property on the external scope failed with "+r);throw r;}}})})(e,s)}},t}(),u=function(n){console.log(i+"("+(new Date).getTime()+"): "+n)},ct=function(n,i,r,u,e,o){var s,h;angular.forEach(f(i,r),function(n){var i,t,r;n.attr(a)?s=n:(i=n.children().length>0,t=angular.element("<div><\/div>"),t.attr(e,""),i&&t.attr(g,"true"),r=n.children(),n.empty(),t.append(r),n.append(t));n.attr(u,"")});s||(s=t(t(t(angular.element("<table><"+n+"><tr><"+r+"><\/"+r+"><\/tr><\/"+n+"><\/table>"),n),"tr"),r),s.attr("data-ng-repeat","columnOptions in gridOptions.gridColumnDefs"),s.attr(a,"true"),h=angular.element("<div><\/div>"),h.attr(e,""),i.append(s),s.append(h));o&&o(s)},et=function(n,i){var r=n.prop("tagName"),u=t(n,"tr"),e;u||(u=t(t(angular.element("<table><"+r+"><tr><\/tr><\/"+r+"><\/table>"),r),"tr"),n.append(u));i&&(e=f(n,"tr"),angular.forEach(e,function(n,t){i(n,t===0,t===e.length-1)}))},ot=function(n,i,r){var u=t(n,i);u||(u=t(angular.element("<table><"+i+"><\/"+i+"><\/table>"),i),n.prepend(u));r&&r(u)},b=function(i,r){var o,e,u,s;i.addClass(n.tableCssClass);ot(i,"thead",function(n){n.attr(l,"");et(n,function(n,t){t})});o=t(tableHeaderElement,"tr");o||(o=t(t(angular.element("<table><thead><tr><\/tr><\/thead><\/table>"),"thead"),"tr"),tableHeaderElement.append(o));tableHeaderElement.attr(l,"");e=t(i,"tfoot");e||(e=t(angular.element("<table><tfoot><\/tfoot><\/table>"),"tfoot"),tableHeaderElement.after(e));e.attr(k,"");u=t(i,"tbody");u||(u=t(angular.element("<table><tbody><\/tbody><\/table>"),"tbody"),e.after(u));s=t(u,"tr");s||(s=t(t(angular.element("<table><tbody><tr><\/tr><\/tbody><\/table>"),"tbody"),"tr"),u.append(s));u.attr(d,"");angular.forEach(f(o,"th"),function(n){angular.element(n).attr(it,"")});angular.forEach(f(s,"td"),function(n){angular.element(n).attr(p,"")});r?(tableHeaderElement.removeAttr("data-ng-non-bindable"),e.removeAttr("data-ng-non-bindable"),u.removeAttr("data-ng-non-bindable")):(tableHeaderElement.attr("data-ng-non-bindable",""),e.attr("data-ng-non-bindable",""),u.attr("data-ng-non-bindable",""))};angular.module("trNgGrid",[]).directive(i,["$compile",function(n){return{restrict:"A",scope:{items:"=",selectedItems:"=?",filterBy:"=?",filterByFields:"=?",orderBy:"=?",orderByReverse:"=?",pageItems:"=?",currentPage:"=?",totalItems:"=?",enableFiltering:"=?",enableSorting:"=?",selectionMode:"@",locale:"@",onDataRequired:"&",onDataRequiredDelay:"=?",fields:"=?"},template:function(){},controller:["$compile","$parse","$timeout","$templateCache",ft],compile:function(t){return b(angular.element(t),!1),function(t,i,r,u){var f=t.$parent.$new();u.setupScope(t,f,r);f.speedUpAsyncDataRetrieval=function(n){return u.speedUpAsyncDataRetrieval(n)};u.setupDisplayItemsArray(f);b(i,!0);angular.forEach(i.children(),function(t){var i=angular.element(t),r=n(angular.element(t))(f);i.replaceWith(r)})}}}}]).directive("trNgGridHeaderCell",[function(){return{restrict:"A",scope:{fieldName:"@",displayName:"@",displayAlign:"@",displayFormat:"@",enableSorting:"=?",enableFiltering:"=?",cellWidth:"@",cellHeight:"@",filter:"@"},require:"^"+i,transclude:!0,compile:function(){return{pre:function(n,t,i,r){r.setupColumn(n.fieldName,n)},post:function(n,t,i,r,u){var e=t.children(),f;t.empty();f=angular.element("<div><\/div>");f.attr(rt,"");f.append(e);t.append(f);u(n.$parent,function(n){t.replaceWith(n)})}}}}}]).directive(y,[function(){var t=function(n){if(n.columnOptions.displayName)n.columnTitle=n.columnOptions.displayName;else if(n.columnOptions.fieldName){var t=n.columnOptions.fieldName.match(/^[^\.\[\]]*/);t=t[0].split(/(?=[A-Z])/);t.length&&t[0].length&&(t[0]=t[0][0].toLocaleUpperCase()+t[0].substr(1));n.columnTitle=t.join(" ")}else n.columnTitle="[Invalid Field Name]"};return{restrict:"A",require:"^"+i,templateUrl:n.cellHeaderTemplateId,replace:!0,scope:!0,link:function(n,i,r,u){n.toggleSorting=function(n){u.toggleSorting(n)};t(n);n.$watch("columnOptions.filter",function(t,i){t!==i&&u.setFilter(n.columnOptions.fieldName,t)})}}}]).directive(h,[function(){return{restrict:"A",require:"^"+i,replace:!0,templateUrl:n.columnSortTemplateId}}]).directive(c,[function(){return{restrict:"A",require:"^"+i,replace:!0,templateUrl:n.columnFilterTemplateId}}]).directive("trNgGridBody",[function(){return{restrict:"A",require:"^"+i,template:'<tbody>  <tr ng-repeat="gridDisplayItem in filteredItems" ng-init="gridItem=gridDisplayItem.$$_gridItem" ng-click="toggleItemSelection(gridItem, $event)" ng-class="{\''+n.rowSelectedCssClass+'\':gridOptions.selectedItems.indexOf(gridItem)>=0}">    <td ng-repeat="columnOptions in gridOptions.gridColumnDefs" '+p+' = "">      <div '+ut+' = ""><\/div>    <\/td>  <\/tr> <\/thead> ',link:function(n,t,i,r){n.toggleItemSelection=function(t,i){r.toggleItemSelection(n.filteredItems,t,i)}}}}]).directive(w,[function(){return{restrict:"A",require:"^"+i,templateUrl:n.cellBodyTemplateId,replace:!0,scope:!0,link:function(){}}}]).directive("trNgGridFooter",[function(){return{restrict:"A",require:"^"+i,template:"<tfoot>  <tr>    <td "+nt+' = "" ng-attr-colspan="{{gridOptions.gridColumnDefs.length}}">    <\/td>  <\/tr> <\/tfoot> ',scope:!0,link:function(){}}}]).directive("trNgGridFooterCell",[function(){return{restrict:"A",require:"^"+i,template:"<div "+tt+' = ""><\/div>'}}]).directive(v,[function(){return{restrict:"A",require:"^"+i,templateUrl:n.cellFooterTemplateId,transclude:!0,replace:!0}}]).directive(o,[function(){return{restrict:"A",scope:!1,templateUrl:n.footerGlobalFilterTemplateId}}]).directive(s,[function(){var t=function(t){var f,i;if(t.totalItemsCount=typeof t.gridOptions.totalItems!="undefined"&&t.gridOptions.totalItems!=null?t.gridOptions.totalItems:t.gridOptions.items?t.gridOptions.items.length:0,t.isPaged=!!t.gridOptions.pageItems&&t.gridOptions.pageItems<t.totalItemsCount,t.extendedControlsActive=!1,t.startItemIndex=t.isPaged?t.gridOptions.pageItems*t.gridOptions.currentPage:0,t.endItemIndex=t.isPaged?t.startItemIndex+t.gridOptions.pageItems-1:t.totalItemsCount-1,t.endItemIndex>=t.totalItemsCount&&(t.endItemIndex=t.totalItemsCount-1),t.endItemIndex<t.startItemIndex&&(t.endItemIndex=t.startItemIndex),t.lastPageIndex=!t.totalItemsCount||!t.isPaged?0:Math.floor(t.totalItemsCount/t.gridOptions.pageItems)+(t.totalItemsCount%t.gridOptions.pageItems?0:-1),t.pageCanGoBack=t.isPaged&&t.gridOptions.currentPage>0,t.pageCanGoForward=t.isPaged&&t.gridOptions.currentPage<t.lastPageIndex,t.pageIndexes=t.pageIndexes||[],t.pageIndexes.splice(0),t.isPaged)if(t.lastPageIndex+1>n.defaultPagerMinifiedPageCountThreshold){t.extendedControlsActive=!0;var e=Math.floor(n.defaultPagerMinifiedPageCountThreshold/2),r=t.gridOptions.currentPage-e,u=t.gridOptions.currentPage+e;for(r<0?(u+=-r,r=0):u>t.lastPageIndex&&(r-=u-t.lastPageIndex,u=t.lastPageIndex),r>0&&(t.pageIndexes.push(null),r++),f=!1,u<t.lastPageIndex&&(f=!0,u--),i=r;i<=u;i++)t.pageIndexes.push(i);f&&t.pageIndexes.push(null)}else for(t.extendedControlsActive=!1,i=0;i<=t.lastPageIndex;i++)t.pageIndexes.push(i);t.pageSelectionActive=t.pageIndexes.length>1;t.navigateToPage=function(n){t.gridOptions.currentPage=n;t.speedUpAsyncDataRetrieval()};t.switchPageSelection=function(n,i){t.pageSelectionActive=i;n&&(n.preventDefault(),n.stopPropagation())}};return{restrict:"A",scope:!0,require:"^"+i,templateUrl:n.footerPagerTemplateId,replace:!0,compile:function(){return{pre:function(n,i,r,u){t(n,u)},post:function(n,i,r,u){n.$watchCollection("[gridOptions.currentPage, gridOptions.items.length, gridOptions.totalItems, gridOptions.pageItems]",function(){t(n,u)})}}}}}]).filter(n.dataPagingFilter,function(){return function(n,t){var i,r;return(n&&(t.totalItems=n.length),!t.pageItems||!n||n.length==0)?n:(t.currentPage||(t.currentPage=0),i=t.currentPage*t.pageItems,i>=n.length&&(t.currentPage=0,i=0),r=t.currentPage*t.pageItems+t.pageItems,n.slice(i,r))}}).filter(n.translateFilter,["$filter",function(t){return function(i,r){var u,f,o,e,c,s,h;if(i instanceof Date)return(f=t(n.translateFilter)(n.translationDateFormat,r),f&&f!==n.translationDateFormat)?t("date")(i,f):i;if(!u)for(o=r.split(/[-_]/),e=o.length;e>0&&!u;e--)c=o.slice(0,e).join("-"),s=n.translations[c],s&&(u=s[i]);if(!u)try{h=t("translate");h&&(u=h(i))}catch(l){}return u||(u=i),u}}]).run(function(){n.tableCssClass="tr-ng-grid table table-bordered table-hover";n.cellCssClass="tr-ng-cell";n.headerCellCssClass="tr-ng-column-header "+n.cellCssClass;n.bodyCellCssClass=n.cellCssClass;n.columnTitleCssClass="tr-ng-title";n.columnSortCssClass="tr-ng-sort";n.columnFilterCssClass="tr-ng-column-filter";n.columnFilterInputWrapperCssClass="";n.columnSortActiveCssClass="tr-ng-sort-active text-info";n.columnSortInactiveCssClass="tr-ng-sort-inactive text-muted glyphicon glyphicon-chevron-down";n.columnSortReverseOrderCssClass="tr-ng-sort-order-reverse glyphicon glyphicon-chevron-down";n.columnSortNormalOrderCssClass="tr-ng-sort-order-normal glyphicon glyphicon-chevron-up";n.rowSelectedCssClass="active";n.footerCssClass="tr-ng-grid-footer form-inline"}).run(function(){n.defaultColumnOptions.displayAlign="left";n.defaultPagerMinifiedPageCountThreshold=3})})(TrNgGrid||(TrNgGrid={}));